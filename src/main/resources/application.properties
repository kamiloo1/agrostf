# Configuración de conexión a la base de datos agrosft
# IMPORTANTE: 
# 1. Verificar que MySQL esté corriendo: Get-Service MySQL* (Windows) o systemctl status mysql (Linux)
# 2. Si MySQL usa otro puerto (no 3306), ajustar la URL
# 3. Configurar la contraseña de MySQL si no está vacía
# 4. Asegurar que la base de datos 'agrosft' existe: ejecutar setup_database.sql
spring.datasource.url=jdbc:mysql://localhost:3306/agrosft
spring.datasource.username=root
spring.datasource.password=
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Configuración de JPA/Hibernate
spring.jpa.show-sql=true
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
spring.jpa.properties.hibernate.connection.characterEncoding=utf8mb4
spring.jpa.properties.hibernate.connection.useUnicode=true

# Configuración de inicialización de datos
# Deshabilitar si ya ejecutaste database_setup_agrosft.sql manualmente
spring.sql.init.mode=never
# Si quieres usar data.sql, cambiar a: spring.sql.init.mode=always

# Configuración del servidor
# IMPORTANTE: Si el puerto 8085 está ocupado, cambiar a otro puerto (ej: 8086, 8087, 8088)
# Para verificar si el puerto está ocupado en Windows: netstat -ano | findstr :8085
# Para verificar en Linux/Mac: lsof -i :8085
server.port=8085

# Logging
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Configuración de correo (Java Mail)
# Para desarrollo, se puede usar un servidor SMTP de prueba como Mailtrap o Gmail
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=tu_correo@gmail.com
spring.mail.password=tu_contraseña
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

# Configuración de API del Clima (OpenWeatherMap)
# Obtén tu API key en: https://openweathermap.org/api
app.clima.api.key=demo_key
app.clima.api.url=https://api.openweathermap.org/data/2.5/weather
